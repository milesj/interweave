# Interweave

Interweave is a robust React library that can...

- Safely render HTML without using `dangerouslySetInnerHTML`.
- Safely strip HTML tags.
- Automatic XSS and injection protection.
- Clean HTML attributes using filters.
- Interpolate components using matchers.
- Autolink URLs, IPs, emails, and hashtags.
- Render Emoji and emoticon characters.
- And much more!

## Requirements

- React 16.3+
- IE 11+
- Emoji support: `fetch`, `sessionStorage`

## Installation

```
yarn add interweave react
// Or
npm install interweave react --save
```

## Usage

Interweave can primarily be used with the `Interweave` and `Markup` components, both of which
provide an easy, straight-forward implementation for safely [parsing and rendering HTML](parser.md).

The `Interweave` component has the additional benefit of utilizing [filters](filters.md),
[matchers](matchers.md), and callbacks.

```tsx
import Interweave from 'interweave';

<Interweave content="This string contains <b>HTML</b> and will safely be rendered!" />;
```

```tsx
<Interweave
  content="This contains a URL, https://github.com/milesj/interweave, and a hashtag, #interweave, that will be converted to an anchor link!"
  matchers={[new UrlMatcher('url'), new HashtagMatcher('hashtag')]}
/>
```

### Markup

Unlike the `Interweave` component, the `Markup` component does not support matchers, filters, or
callbacks. This component is preferred when rendering strings that contain HTML is the only use
case.

```tsx
import { Markup } from 'interweave';

<Markup content="This string <b>contains</b> HTML." />;
```

### Props

_Markup & Interweave_

- `allowAttributes` (boolean) - Disable filtering and allow all non-banned HTML attributes.
- `allowElements` (boolean) - Disable filtering and allow all non-banned/blocked HTML elements to be
  rendered.
- `allowInlineStyles` (boolean) - Allow inline styles on parsed HTML elements.
- `allowList` (string[]) - List of HTML tag names to allow and render. Defaults to the
  `ALLOWED_TAG_LIST` constant.
- `blockList` (string[]) - List of HTML tag names to disallow and not render. Overrides allow list.
- `content` (string) - The string to render and apply matchers and filters to. Supports HTML.
- `disableLineBreaks` (boolean) - Disables automatic line break conversion.
- `emptyContent` (node) - React node to render if no content was rendered.
- `escapeHtml` (boolean) - Escape all HTML in the content before parsing.
- `noHtml` (boolean) - Strips HTML tags from the content string while parsing. Also strips HTML
  generated by matchers.
- `noHtmlExceptMatchers` (boolean) - Like the former, but allows HTML generated by matchers.
- `tagName` (string | fragment) - The HTML element tag name to wrap the output with. Defaults to
  "div".
- `transform` (func) - Callback that fires during parsing. Is passed the parsed DOM node, and can
  return an element, null to skip the node, or undefined to use the default element.

_Interweave only_

- `disableFilters` (boolean) - Disables all filters.
- `disableMatchers` (boolean) - Disables all matchers.
- `filters` (Filter[]) - Filters to apply to this instance.
- `matchers` (Matcher[]) - Matchers to apply to this instance.
- `onBeforeParse` (func) - Callback that fires before parsing. Is passed the source string and must
  return a string.
- `onAfterParse` (func) - Callback that fires after parsing. Is passed an array of strings/elements
  and must return an array.
